<div class="container-fluid">
  <div class="row p-3 mb-2 rounded rounded-top-0 rounded-bottom-5 bg-body-secondary sticky-top">
    <div class="btn-group nav nav-pills" id="pills-tab" role="group" aria-label="Basic example">
      <button class="btn btn-success" id="pills-agregar-tab" data-bs-toggle="pill" data-bs-target="#pills-agregar" type="button" role="tab" aria-controls="pills-agregar" aria-selected="true">Agregar</button>
      <button class="btn btn-success" id="pills-listar-tab" data-bs-toggle="pill" data-bs-target="#pills-listar" type="button" role="tab" aria-controls="pills-listar" aria-selected="false" [routerLink]="'/transacccionList'">Listar</button>
    </div>
  </div>
  <div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade" id="pills-agregar" role="tabpanel" aria-labelledby="pills-agregar-tab" tabindex="0">
      <div class="card m-2">
        <div class="card-header">
          <h3>Agregar Transaccion</h3>
        </div>
        <div class="card-body">
          <button class="btn btn-outline-dark w-100 mb-2" (click)="obtenerSimbolos()">Cargar Simbolos</button>
          <form>
            <div class="mb-3">
              <label for="monedaOrigenTransaccion" class="form-label">Moneda Origen</label>
                <select class="form-select" id="monedaOrigenTransaccion" aria-describedby="monedaOrigenAyuda" name="monedaOrigen" [(ngModel)]="transaccion.monedaOrigen" (change)="actualizarMonedaOrigen(transaccion.monedaOrigen)">
                  <option *ngFor="let m of simbolos" [value]="m.symbol">{{m.symbol}}</option>
                </select>
              <div id="monedaOrigenAyuda" class="form-text">Seleccione alguna Moneda de Origen</div>
            </div>
            <div class="mb-3">
              <label for="cantidadOrigenTransaccion" class="form-label">Cantidad de Origen</label>
              <input type="number" class="form-control" id="cantidadOrigenTransaccion" aria-describedby="cantidadDeOrigenAyuda" step="0.01" [(ngModel)]="transaccion.cantidadOrigen" name="plataBase">
              <div id="cantidadDeOrigenAyuda" class="form-text">Recuerde que al poner el numero con decimal debe hacerlo asi 59,52</div>
            </div>
            <div class="mb-3">
              <label for="monedaDestinoTransaccion" class="form-label">Moneda Destino</label>
                <select class="form-select" id="monedaDestinoTransaccion" aria-describedby="monedaDestinoTransaccionAyuda" name="monedaDestino" [(ngModel)]="transaccion.monedaDestino" (change)="actualizarMonedaDestino(transaccion.monedaDestino)">
                  <option *ngFor="let m of simbolos" [value]="m.symbol">{{m.symbol}}</option>
                </select>
              <div id="monedaDestinoTransaccionAyuda" class="form-text">Seleccione alguna Moneda de Destino distinta a la inicial</div>
            </div>
            <div class="mb-3">
              <label for="emailClienteTransaccion" class="form-label">Email del Cliente</label>
              <input type="email" class="form-control" id="emailClienteTransaccion" aria-describedby="emailClienteTransaccionAyuda" [(ngModel)]="transaccion.emailCliente" name="mail" >
              <div id="emailClienteTransaccionAyuda" class="form-text">Usaremos este mail poder comunicarnos con usted si es necesario</div>
            </div>
            <div class="mb-3">
              <label for="tasaConversionTransaccion" class="form-label">Tasa de Conversion</label>
              <input type="number" class="form-control" id="tasaConversionTransaccion" aria-describedby="tasaConversionTransaccionAyuda" [(ngModel)]="transaccion.tasaConversion" name="tasa">
              <div id="tasaConversionTransaccionAyuda" class="form-text">Coloque la tasa de conversión que desea esta está en %, ejemplo se va a sumar un 2%, entonces el calculo es del monto inicial * 0.2 + monto inicial</div>
            </div>

            <div class="mb-3">
              <button class="btn btn-success w-100" (click)="obtenerTotal()"> Calcular Cantidad Destino</button>
            </div>

            <div class="mb-3">
              <span>Cantidad Destino: {{transaccion.cantidadDestino | currency}}</span>
            </div>
          </form>
        </div>
        <div class="card-footer">
          <button class="btn btn-outline-success w-100" (click)="cargarTransaccion()">Enviar</button>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="pills-listar" role="tabpanel" aria-labelledby="pills-listar-tab" tabindex="0"></div>
  </div>
</div>

